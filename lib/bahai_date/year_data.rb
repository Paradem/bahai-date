module BahaiDate
  class YearData
    # valid up to 2148
    LEAP_YEARS = [4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 44, 48, 52, 60, 64, 68, 72, 76, 80, 84, 88, 92, 96, 100, 104, 108, 112, 116, 120, 124, 128, 132, 136, 140, 144, 148, 152, 156, 160, 164, 168, 174, 178, 182, 187, 191, 195, 199, 203, 207, 211, 216, 220, 224, 228, 232, 236, 240, 244, 249, 253, 257, 261, 265, 269, 273, 277, 282, 286, 290, 294, 298, 302]
    # valid up to 2149
    NAWRUZ_DAYS = { 2015 => 21, 2016 => 20, 2017 => 20, 2018 => 21, 2019 => 21, 2020 => 20, 2021 => 20, 2022 => 21, 2023 => 21, 2024 => 20, 2025 => 20, 2026 => 21, 2027 => 21, 2028 => 20, 2029 => 20, 2030 => 20, 2031 => 21, 2032 => 20, 2033 => 20, 2034 => 20, 2035 => 21, 2036 => 20, 2037 => 20, 2038 => 20, 2039 => 21, 2040 => 20, 2041 => 20, 2042 => 20, 2043 => 21, 2044 => 20, 2045 => 20, 2046 => 20, 2047 => 21, 2048 => 20, 2049 => 20, 2050 => 20, 2051 => 21, 2052 => 20, 2053 => 20, 2054 => 20, 2055 => 21, 2056 => 20, 2057 => 20, 2058 => 20, 2059 => 20, 2060 => 20, 2061 => 20, 2062 => 20, 2063 => 20, 2064 => 20, 2065 => 20, 2066 => 20, 2067 => 20, 2068 => 20, 2069 => 20, 2070 => 20, 2071 => 20, 2072 => 20, 2073 => 20, 2074 => 20, 2075 => 20, 2076 => 20, 2077 => 20, 2078 => 20, 2079 => 20, 2080 => 20, 2081 => 20, 2082 => 20, 2083 => 20, 2084 => 20, 2085 => 20, 2086 => 20, 2087 => 20, 2088 => 20, 2089 => 20, 2090 => 20, 2091 => 20, 2092 => 19, 2093 => 20, 2094 => 20, 2095 => 20, 2096 => 19, 2097 => 20, 2098 => 20, 2099 => 20, 2100 => 20, 2101 => 21, 2102 => 21, 2103 => 21, 2104 => 20, 2105 => 21, 2106 => 21, 2107 => 21, 2108 => 20, 2109 => 21, 2110 => 21, 2111 => 21, 2112 => 20, 2113 => 21, 2114 => 21, 2115 => 21, 2116 => 20, 2117 => 21, 2118 => 21, 2119 => 21, 2120 => 20, 2121 => 21, 2122 => 21, 2123 => 21, 2124 => 20, 2125 => 20, 2126 => 21, 2127 => 21, 2128 => 20, 2129 => 20, 2130 => 21, 2131 => 21, 2132 => 20, 2133 => 20, 2134 => 21, 2135 => 21, 2136 => 20, 2137 => 20, 2138 => 21, 2139 => 21, 2140 => 20, 2141 => 20, 2142 => 21, 2143 => 21, 2144 => 20, 2145 => 20, 2146 => 21, 2147 => 21, 2148 => 20, 2149 => 20 }

    def self.nawruz_for(year)
      nawruz_day = year < 2015 ? 21 : NAWRUZ_DAYS[year]
      Date.new(year, 3, nawruz_day)
    end

    def self.leap?(year)
      LEAP_YEARS.include? year
    end
  end
end
